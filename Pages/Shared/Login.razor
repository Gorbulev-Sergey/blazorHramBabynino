@using Microsoft.AspNetCore.Identity
@using razorHramBabynino.Models
@inject SignInManager<user> SignInManager
@inject UserManager<user> UserManager

<div class="d-flex justify-content-end mt-1 mt-lg-0">
    <AuthorizeView>
        <Authorized>
            @if (SignInManager.IsSignedIn(context.User) && (context.User.IsInRole("администратор") || context.User.IsInRole("редактор")))
            {
                <a class="btn btn-light text-dark mr-1" href="/cpanel/posts" title="Панель управления"><i class="fas fa-feather"></i></a>
            }
            <button class="btn btn-light text-dark mr-1" onclick="changeBootstrap(document.querySelector('#bootstrap'))"><i class="far fa-sun"></i></button>
            <div class="dropdown">
                <button class="btn btn-light text-dark" data-toggle="dropdown">
                    <i class="fas fa-id-card-alt"></i>
                </button>
                <div class="dropdown-menu dropdown-menu-right bg-light p-0 border-0">
                    <div class="d-flex flex-column">
                        <a class="btn btn-light text-dark text-left" href="/Identity/Account/Manage/Index" title="Мой профиль">Мой профиль</a>
                        <a class="btn btn-light text-dark text-left" href="/Identity/Account/Logout">Выход</a>
                    </div>
                </div>
            </div>            
        </Authorized>
        <NotAuthorized>
            @*<button class="btn btn-light text-dark mr-1" onclick="$('#bootstrap').attr('href') == '/bootstrap/css/bootstrap.min.css' ? $('#bootstrap').attr('href','/bootstrap/css/invert/bootstrap.min.css') : $('#bootstrap').attr('href','/bootstrap/css/bootstrap.min.css')"><i class="far fa-sun"></i></button>*@
            <button class="btn btn-light text-dark mr-1" onclick="changeBootstrap(document.querySelector('#bootstrap'))"><i class="far fa-sun"></i></button>
            <div class="dropdown">
                <button class="btn btn-light text-dark" data-toggle="dropdown" data-display="static" aria-haspopup="true" aria-expanded="false">
                    <i class="fas fa-id-card-alt"></i>
                </button>
                <div class="dropdown-menu dropdown-menu-right bg-light mt-n1 p-0 border-0">
                    <div class="d-flex flex-column">
                        <a class="btn btn-light text-dark text-left" href="/Identity/Account/Login">Вход</a>
                        <a class="btn btn-light text-dark text-left" href="/Identity/Account/Register">Регистрация</a>
                    </div>
                </div>
            </div>
        </NotAuthorized>
    </AuthorizeView>
</div>



@code {
}
