<div class="bg-secondary rounded-bottom p-3">
    <AuthorizeView>
        <Authorized>
            <CreateComment добавить="(text)=>добавить.InvokeAsync(text)"></CreateComment>
        </Authorized>
        <NotAuthorized>
            <div class="m-3"><a class="card-link" href="/Identity/Account/Register">Зарегистрируйтесь</a> и оставьте комментарий.</div>
        </NotAuthorized>
    </AuthorizeView>

    @foreach (var comment in comments.Reverse<comment>())
    {
        <Comment comment="comment" удалить="comment=>удалить.InvokeAsync(comment)" userName="@userName"></Comment>
    }
</div>

@code {
    [Parameter]
    public string userName { get; set; }

    [Parameter]
    public List<comment> comments { get; set; }

    [Parameter]
    public EventCallback<string> добавить { get; set; }

    [Parameter]
    public EventCallback<comment> удалить { get; set; }
}
